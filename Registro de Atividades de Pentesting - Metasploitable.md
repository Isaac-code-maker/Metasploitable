
## Introdução
Neste documento, descrevo as etapas e comandos utilizados para explorar a vulnerabilidade na porta 22 da máquina Metasploitable utilizando Kali Linux. O objetivo foi realizar um teste de penetração básico para entender melhor as técnicas e ferramentas envolvidas.

## 1. Identificação do IP

Para identificar o IP da máquina Metasploitable, utilizei o comando:

```bash
ifconfig
```

Este comando exibe a configuração de rede da máquina. O IP da Metasploitable foi identificado como `192.168.0.158`.

## 2. Varredura de Portas

Para identificar as portas abertas e obter informações detalhadas sobre os serviços em execução, utilizei o comando `nmap` com as opções `-v` e `-A`:

```bash
nmap -v -A 192.168.0.158
```

- `-v`: Ativa o modo verbose, fornecendo informações detalhadas durante a execução.
- `-A`: Habilita a detecção de versões e outros detalhes avançados sobre os serviços.

O resultado mostrou que a porta 22 estava aberta, indicando que o serviço SSH estava disponível.

## 3. Exploração da Vulnerabilidade SSH

Para explorar uma vulnerabilidade conhecida no serviço SSH da Metasploitable, utilizei o comando:

```bash
sudo ssh -oHostKeyAlgorithms=+ssh-dss msfadmin@192.168.0.158
```

- `sudo`: Executa o comando com privilégios elevados.
- `ssh -oHostKeyAlgorithms=+ssh-dss`: Força o uso do algoritmo de chave SSH-DSS, que é conhecido por ter vulnerabilidades.
- `msfadmin@192.168.0.158`: Especifica o usuário e o IP da máquina alvo.

Após executar este comando, fui solicitado a fornecer a senha do usuário `msfadmin`, que é `msfadmin`. Com a senha correta, consegui acessar a máquina via SSH.

## 4. Obtenção de Privilégios de Root

Dentro da máquina Metasploitable, para obter acesso root, utilizei os seguintes comandos:

```bash
sudo ftp
```

Este comando inicia o cliente FTP com privilégios de superusuário. 

```bash
!/bin/sh
```

### Explicação

O comando `sudo ftp` inicia o cliente FTP (File Transfer Protocol) com privilégios de superusuário. O FTP é um protocolo de rede utilizado para transferir arquivos entre sistemas.

- **`sudo`**: É um comando usado para executar outros comandos com privilégios elevados (de superusuário). Isso é necessário quando você precisa de permissões adicionais que não estão disponíveis com o usuário normal.
- **`ftp`**: Inicia o cliente FTP, que permite a comunicação com um servidor FTP para enviar e receber arquivos.

### Uso no Contexto

Quando você executa `sudo ftp`, você está abrindo uma sessão FTP com privilégios de superusuário. Isso pode ser útil se você precisar de permissões adicionais para acessar certos arquivos ou diretórios durante a transferência de arquivos.

---

## Comando `!/bin/sh`

### Explicação

O comando `!/bin/sh` é utilizado para iniciar uma nova sessão de shell (interpretação de comandos) a partir do contexto atual. No contexto de um cliente FTP, esse comando é usado para obter um shell de sistema.

- **`/bin/sh`**: É o caminho para o shell Bourne (`sh`), um tipo de shell Unix. O shell fornece um ambiente para a execução de comandos e scripts.

### Uso no Contexto

Ao executar `!/bin/sh` dentro do cliente FTP, você inicia uma sessão de shell a partir do ambiente FTP. Isso permite que você execute comandos de sistema diretamente, muitas vezes com privilégios de superusuário se estiver utilizando `sudo ftp`. Com isso, você pode realizar tarefas administrativas ou explorar o sistema de forma mais aprofundada.

---

Esses comandos são úteis para explorar e explorar sistemas quando se está em um ambiente controlado, como no Metasploitable. Eles ajudam a obter acesso e a realizar ações que podem ser necessárias para testes de penetração. 

## 5. Conclusão

Seguindo os passos descritos, consegui acessar e obter privilégios de root na máquina Metasploitable. Este exercício demonstrou a importância de entender e explorar vulnerabilidades conhecidas para aprimorar habilidades de pentesting. 

---
